<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>Chapter&nbsp;5.&nbsp;Implementation details</title><link rel="stylesheet" type="text/css" href="css/docbook.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="user_documentation.html" title="K3 User Documentation"><link rel="up" href="user_documentation.html" title="K3 User Documentation"><link rel="prev" href="ch04s02.html" title="4.2.&nbsp;New Example wizard"><link rel="next" href="ch05s02.html" title="5.2.&nbsp;K3 Active annotations"><base xmlns:fo="http://www.w3.org/1999/XSL/Format" target="body"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;5.&nbsp;Implementation details</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s02.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch05s02.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_implementation_details"></a>Chapter&nbsp;5.&nbsp;Implementation details</h1></div></div></div><p>This section presents how K3 is implemented and which compiling scheme it follows.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">Most K3 users would probably not need to read this section. However, understanding this compilation scheme should help integrating K3 code in a larger applications.</p></div><p>Basically, K3 works by combining 2 mains Xtend mecanisms :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="http://www.eclipse.org/xtend/documentation/202_xtend_classes_members.html#extension-imports" target="_top">Static Extension import</a> with wildcards.</li><li class="listitem"><a class="link" href="http://www.eclipse.org/xtend/documentation/204_activeannotations.html" target="_top">Active annotations</a>.</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_import_static_extension_with_wildcard"></a>5.1.&nbsp;Import static extension with wildcard</h2></div></div></div><p>In  Java, <span class="strong"><strong><a class="link" href="https://en.wikipedia.org/wiki/Static_import" target="_top">Static import</a></strong></span> is a feature  that allows members (fields and methods) defined in a class as <code class="literal">public static</code> to be used in Java code without specifying the class in which the field is defined. The wildcard allow to access all the static members of a class.</p><p>In Xtend, <a class="link" href="http://www.eclipse.org/xtend/documentation/202_xtend_classes_members.html#extension-methods" target="_top">extension methods</a> allow to add new methods to existing types without modifying them.
They are based on a simple syntactic trick: Instead of passing the first
 argument of an extension method inside the parentheses of a method
invocation, the method can be called with the first argument as its
receiver - it can be called as if the method was one of the argument
type&#8217;s members.</p><p>When used with a wildcard, the <code class="literal">import static extension</code> allow to apply this to all static methods of a class.</p><pre class="programlisting"><b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">import</b> <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">static</b> <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">extension</b> java.lang.Math.*;
<i xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-comment" style="color: darkgreen">// [..]</i>

<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">val</b> <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">double</b> f1 = <span class="hl-number">2.5</span>
<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">val</b> <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">double</b> f2 = <span class="hl-number">2.9</span>

Math.max(f1,f2) <a name="CO8-1"></a><span><img src="gfx/callouts/1.gif" alt="1" border="0"></span>

max(f1,f2) <a name="CO8-2"></a><span><img src="gfx/callouts/2.gif" alt="2" border="0"></span>

f1.max(f2) <a name="CO8-3"></a><span><img src="gfx/callouts/3.gif" alt="3" border="0"></span></pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO8-1"><span><img src="gfx/callouts/1.gif" alt="1" border="0"></span></a> </p></td><td valign="top" align="left"><p>is the classic way to access the static method (with only a <code class="literal">import java.lang.Math</code> )</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO8-2"><span><img src="gfx/callouts/2.gif" alt="2" border="0"></span></a> </p></td><td valign="top" align="left"><p>is allowed by java with an <code class="literal">import java.lang.Math.*</code> or <code class="literal">import java.lang.Math.max</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO8-3"><span><img src="gfx/callouts/3.gif" alt="3" border="0"></span></a> </p></td><td valign="top" align="left"><p>is allowed by Xtend&#8217;s <code class="literal">extension</code>. This pointed notation gives the feeling to call the <code class="literal">max</code> method as if it was defined on <code class="literal">double</code>.</p></td></tr></table></div><p>K3 use this mecanism extensively.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s02.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch05s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.2.&nbsp;New Example wizard&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="user_documentation.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;5.2.&nbsp;K3 Active annotations</td></tr></table></div></body></html>